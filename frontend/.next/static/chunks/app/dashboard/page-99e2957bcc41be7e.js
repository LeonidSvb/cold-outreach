(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{1102:(e,t,a)=>{Promise.resolve().then(a.bind(a,2967))},1834:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>n,L3:()=>d,c7:()=>c,lG:()=>i});var s=a(5155);a(2115);var r=a(5229),l=a(4269);let i=e=>{let{open:t,onOpenChange:a,children:l}=e;return t?(0,s.jsx)("div",{className:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 sm:rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>a(!1),className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:(0,s.jsx)(r.A,{className:"h-4 w-4"})}),l]})}):null},n=e=>{let{children:t,className:a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("grid gap-4",a),children:t})},c=e=>{let{children:t}=e;return(0,s.jsx)("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left",children:t})},d=e=>{let{children:t}=e;return(0,s.jsx)("h3",{className:"text-lg font-semibold leading-none tracking-tight",children:t})}},2967:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Y});var s=a(5155),r=a(2115),l=a(2619),i=a.n(l),n=a(1847);let c=(0,n.A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),d=(0,n.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),o=(0,n.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),m=(0,n.A)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),x=(0,n.A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var h=a(4269);let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,h.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});p.displayName="Card";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,h.cn)("flex flex-col space-y-1.5 p-6",a),...r})});u.displayName="CardHeader";let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,h.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});g.displayName="CardTitle";let y=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,h.cn)("text-sm text-muted-foreground",a),...r})});y.displayName="CardDescription";let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,h.cn)("p-6 pt-0",a),...r})});f.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,h.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";var b=a(3998);let j=(0,n.A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),v=(0,n.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var N=a(1834),w=a(5142);let k=[{id:"today",label:"Today",description:"Current day"},{id:"yesterday",label:"Yesterday",description:"Previous day"},{id:"7days",label:"Last 7 Days",description:"Previous week"},{id:"2weeks",label:"Last 2 Weeks",description:"Previous 14 days"},{id:"30days",label:"Last 30 Days",description:"Previous month"},{id:"3months",label:"Last 3 Months",description:"Previous 90 days"},{id:"all",label:"All Time",description:"Complete history"},{id:"custom",label:"Custom Range",description:"Choose dates"}];function S(e){let{selectedPeriod:t,onPeriodChange:a,customDateRange:l,onCustomDateChange:i}=e,[n,c]=(0,r.useState)(!1),[d,o]=(0,r.useState)(l||{start:"",end:""}),m=k.find(e=>e.id===t);return(0,s.jsx)(p,{className:"bg-white/90 backdrop-blur-sm border-gray-200/50 shadow-lg",children:(0,s.jsxs)(f,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,s.jsx)("div",{className:"flex items-center space-x-3",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)(j,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:(null==m?void 0:m.label)||"Select Period"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:(()=>{if("custom"===t&&l){let e=new Date(l.start).toLocaleDateString(),t=new Date(l.end).toLocaleDateString();return"".concat(e," - ").concat(t)}return(null==m?void 0:m.description)||""})()})]})]})}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:k.map(e=>(0,s.jsxs)(b.$,{variant:t===e.id?"default":"outline",size:"sm",onClick:()=>{var t;"custom"===(t=e.id)?c(!0):a(t)},className:"\n                  transition-all duration-200 text-xs\n                  ".concat(t===e.id?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-md transform scale-105":"bg-white/80 hover:bg-white/90 border-gray-200 text-gray-700 hover:text-gray-900 hover:border-gray-300","\n                "),children:["custom"===e.id&&(0,s.jsx)(v,{className:"w-3 h-3 mr-1"}),e.label]},e.id))})]}),(0,s.jsx)(N.lG,{open:n,onOpenChange:c,children:(0,s.jsxs)(N.Cf,{className:"sm:max-w-md",children:[(0,s.jsxs)(N.c7,{children:[(0,s.jsx)(N.L3,{children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(v,{className:"w-5 h-5 text-blue-500"}),(0,s.jsx)("span",{children:"Custom Date Range"})]})}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Select start and end dates for your custom analysis period"})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Start Date"}),(0,s.jsx)(w.p,{type:"date",value:d.start,onChange:e=>o(t=>({...t,start:e.target.value})),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"End Date"}),(0,s.jsx)(w.p,{type:"date",value:d.end,onChange:e=>o(t=>({...t,end:e.target.value})),className:"w-full"})]}),(0,s.jsxs)("div",{className:"flex space-x-2 pt-4",children:[(0,s.jsx)(b.$,{onClick:()=>{d.start&&d.end&&(null==i||i(d),a("custom"),c(!1))},disabled:!d.start||!d.end,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:"Apply Range"}),(0,s.jsx)(b.$,{variant:"outline",onClick:()=>c(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})})}let M=(0,n.A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),C=(0,n.A)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),D=(0,n.A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var A=a(1169);let R=(0,n.A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),_=(0,n.A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);function T(e){let{metrics:t,loading:a}=e,r=[{title:"Total Emails Sent",value:t.totalEmailsSent.toLocaleString(),icon:M,color:"blue",gradient:"from-blue-500 to-blue-600",description:"Total outreach volume"},{title:"Reply Rate",value:"".concat(t.replyRate,"%"),icon:C,color:"green",gradient:"from-green-500 to-green-600",description:"All responses received"},{title:"Real Reply Rate",value:"".concat(t.realReplyRate,"%"),icon:c,color:"emerald",gradient:"from-emerald-500 to-emerald-600",description:"Excluding auto-replies"},{title:"Positive Rate",value:"".concat(t.positiveReplyRate,"%"),icon:D,color:"yellow",gradient:"from-yellow-500 to-yellow-600",description:"Interested prospects"},{title:"Active Campaigns",value:t.activeCampaigns.toString(),icon:x,color:"purple",gradient:"from-purple-500 to-purple-600",description:"Running campaigns"},{title:"Active Accounts",value:t.activeAccounts.toString(),icon:A.A,color:"indigo",gradient:"from-indigo-500 to-indigo-600",description:"Email accounts sending"},{title:"Bounce Rate",value:"".concat(t.bounceRate,"%"),icon:R,color:"red",gradient:"from-red-500 to-red-600",description:"Delivery failures"},{title:"Opportunity Rate",value:"".concat(t.opportunityRate,"%"),icon:c,color:"pink",gradient:"from-pink-500 to-pink-600",description:"Qualified leads"}];return a?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:8}).map((e,t)=>(0,s.jsx)(p,{className:"bg-white/80 backdrop-blur-sm border-gray-200/50",children:(0,s.jsx)(f,{className:"p-6",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-lg"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24"})]}),(0,s.jsx)("div",{className:"h-8 bg-gray-200 rounded w-16 mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-20"})]})})},t))}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((e,t)=>{let a=e.icon;return(0,s.jsx)(p,{className:"bg-white/80 backdrop-blur-sm border-gray-200/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 group",children:(0,s.jsxs)(f,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r ".concat(e.gradient," rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300"),children:(0,s.jsx)(a,{className:"w-6 h-6 text-white"})}),(0,s.jsx)("div",{className:"flex items-center space-x-1 text-xs",children:t%3==0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c,{className:"w-3 h-3 text-green-500"}),(0,s.jsxs)("span",{className:"text-green-600 font-medium",children:["+",(10*Math.random()+1).toFixed(1),"%"]})]}):t%3==1?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_,{className:"w-3 h-3 text-red-500"}),(0,s.jsxs)("span",{className:"text-red-600 font-medium",children:["-",(5*Math.random()+1).toFixed(1),"%"]})]}):(0,s.jsx)("span",{className:"text-gray-400 font-medium",children:"â€”"})})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 leading-tight",children:e.title}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:e.value}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]}),e.value.includes("%")&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,s.jsx)("div",{className:"bg-gradient-to-r ".concat(e.gradient," h-1.5 rounded-full transition-all duration-1000"),style:{width:"".concat(Math.min(10*parseFloat(e.value),100),"%")}})})})]})},e.title)})})}var O=a(7828);let E=(0,n.A)("mouse-pointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]),F=[{key:"emailsSent",label:"Emails Sent",color:"#3B82F6",icon:M},{key:"replies",label:"Replies",color:"#10B981",icon:C},{key:"opens",label:"Opens",color:"#8B5CF6",icon:O.A},{key:"clicks",label:"Clicks",color:"#F59E0B",icon:E},{key:"bounces",label:"Bounces",color:"#EF4444",icon:R},{key:"opportunities",label:"Opportunities",color:"#EC4899",icon:c}];function L(e){let{data:t,period:a,loading:l}=e,[i,n]=(0,r.useState)(["emailsSent","replies","opens"]),[c,d]=(0,r.useState)(null);if(l||!t.length)return(0,s.jsx)("div",{className:"h-96 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"animate-pulse space-y-4 w-full",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,s.jsx)("div",{className:"h-64 bg-gray-200 rounded"}),(0,s.jsx)("div",{className:"flex space-x-2",children:Array.from({length:6}).map((e,t)=>(0,s.jsx)("div",{className:"h-8 bg-gray-200 rounded w-20"},t))})]})});let o=720,m=240,x=F.reduce((e,a)=>{let s=t.map(e=>{let t=e[a.key];return"number"!=typeof t||isNaN(t)?0:t}).filter(e=>e>0);return e[a.key]=s.length>0?Math.max(...s):1,e},{}),h=(e,t)=>{let a=x[t]||1,s=20+m-("number"!=typeof e||isNaN(e)?0:e)/a*m;return isNaN(s)?20+m:s},p=e=>{if(t.length<=1)return 60;let a=60+e/(t.length-1)*o;return isNaN(a)?60:a},u=e=>{let t=new Date(e);return"today"===a||"yesterday"===a?t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"7days"===a||"2weeks"===a?t.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}):t.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:F.map(e=>{let t=e.icon,a=i.includes(e.key);return(0,s.jsxs)(b.$,{variant:a?"default":"outline",size:"sm",onClick:()=>{var t;return t=e.key,void n(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"\n                transition-all duration-200 text-xs\n                ".concat(a?"shadow-md transform scale-105":"bg-white/80 hover:bg-white/90 border-gray-200","\n              "),style:{backgroundColor:a?e.color:void 0,borderColor:a?e.color:void 0},children:[(0,s.jsx)(t,{className:"w-3 h-3 mr-2"}),e.label]},e.key)})}),(0,s.jsxs)("div",{className:"relative bg-gradient-to-br from-gray-50 to-white rounded-xl p-4 border border-gray-200/50",children:[(0,s.jsxs)("svg",{width:800,height:300,className:"overflow-visible",viewBox:"0 0 ".concat(800," ").concat(300),children:[(0,s.jsx)("defs",{children:(0,s.jsx)("pattern",{id:"grid",width:"40",height:"30",patternUnits:"userSpaceOnUse",children:(0,s.jsx)("path",{d:"M 40 0 L 0 0 0 30",fill:"none",stroke:"#f1f5f9",strokeWidth:"1"})})}),(0,s.jsx)("rect",{width:800,height:300,fill:"url(#grid)"}),(0,s.jsx)("line",{x1:60,y1:20,x2:60,y2:260,stroke:"#e2e8f0",strokeWidth:"2"}),(0,s.jsx)("line",{x1:60,y1:260,x2:780,y2:260,stroke:"#e2e8f0",strokeWidth:"2"}),i.map(e=>{let a=F.find(t=>t.key===e);return(0,s.jsxs)("g",{children:[(0,s.jsx)("path",{d:t.map((t,a)=>{let s=p(a),r=h(t[e],e);return"".concat(0===a?"M":"L"," ").concat(s," ").concat(r)}).join(" "),fill:"none",stroke:a.color,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"drop-shadow-sm"}),t.map((t,r)=>{let l=p(r),i=h(t[e],e);return(0,s.jsx)("circle",{cx:l,cy:i,r:"4",fill:a.color,stroke:"white",strokeWidth:"2",className:"cursor-pointer hover:r-6 transition-all duration-200 drop-shadow-sm",onMouseEnter:()=>d({index:r,metric:e}),onMouseLeave:()=>d(null)},r)})]},e)}),t.map((e,a)=>{if(a%Math.ceil(t.length/8)==0||a===t.length-1){let t=p(a);return(0,s.jsx)("text",{x:t,y:280,textAnchor:"middle",className:"text-xs fill-gray-600",children:u(e.date)},a)}return null})]}),c&&(0,s.jsxs)("div",{className:"absolute bg-white/95 backdrop-blur-sm border border-gray-200 rounded-lg p-3 shadow-xl pointer-events-none z-10",style:{left:p(c.index)+10,top:h(t[c.index][c.metric],c.metric)-10},children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:u(t[c.index].date)}),(0,s.jsx)("div",{className:"space-y-1 mt-1",children:i.map(e=>{let a=F.find(t=>t.key===e),r=t[c.index][e];return(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color}}),(0,s.jsxs)("span",{className:"text-xs text-gray-600",children:[a.label,": ",(0,s.jsx)("span",{className:"font-medium",children:r})]})]},e)})})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-4 text-center",children:F.map(e=>{let a=t.reduce((t,a)=>t+a[e.key],0)/t.length;return(0,s.jsxs)("div",{className:"bg-white/50 rounded-lg p-3 border border-gray-200/50",children:[(0,s.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:e.label}),(0,s.jsx)("p",{className:"font-semibold text-gray-900",children:Math.round(a)}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"avg/day"})]},e.key)})})]})}let z=(0,n.A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),I=(0,n.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),B=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316"];function P(e){let{campaigns:t,dailyData:a,loading:l}=e,[i,n]=(0,r.useState)("aggregate"),[d,o]=(0,r.useState)(new Set(t.map(e=>e.id||e.campaign_id||"")));if(l||!t.length)return(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsxs)("div",{className:"flex space-x-2 mb-4",children:[(0,s.jsx)("div",{className:"h-10 bg-gray-200 rounded w-32"}),(0,s.jsx)("div",{className:"h-10 bg-gray-200 rounded w-32"})]}),(0,s.jsx)("div",{className:"h-64 bg-gray-200 rounded mb-4"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Array.from({length:3}).map((e,t)=>(0,s.jsx)("div",{className:"h-32 bg-gray-200 rounded"},t))})]})});let m=t.reduce((e,t)=>({totalSent:e.totalSent+(t.sent||t.emails_sent_count||0),totalReplies:e.totalReplies+(t.replies||t.reply_count||0),totalOpportunities:e.totalOpportunities+(t.opportunities||t.total_opportunities||0)}),{totalSent:0,totalReplies:0,totalOpportunities:0});return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(z,{className:"w-5 h-5 text-gray-600"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Campaign Performance"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(b.$,{variant:"aggregate"===i?"default":"outline",size:"sm",onClick:()=>n("aggregate"),className:"\n              transition-all duration-200\n              ".concat("aggregate"===i?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-md":"bg-white/80 hover:bg-white/90","\n            "),children:[(0,s.jsx)(c,{className:"w-4 h-4 mr-2"}),"All Together"]}),(0,s.jsxs)(b.$,{variant:"individual"===i?"default":"outline",size:"sm",onClick:()=>n("individual"),className:"\n              transition-all duration-200\n              ".concat("individual"===i?"bg-gradient-to-r from-purple-500 to-pink-600 text-white shadow-md":"bg-white/80 hover:bg-white/90","\n            "),children:[(0,s.jsx)(x,{className:"w-4 h-4 mr-2"}),"By Campaign"]})]})]}),"aggregate"===i&&(0,s.jsxs)(p,{className:"bg-gradient-to-br from-blue-50 to-purple-50 border-blue-200/50",children:[(0,s.jsx)(u,{children:(0,s.jsxs)(g,{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)(z,{className:"w-4 h-4 text-white"})}),(0,s.jsx)("span",{children:"Combined Performance"})]})}),(0,s.jsx)(f,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"text-center p-4 bg-white/70 rounded-lg",children:[(0,s.jsx)(M,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(m.totalSent||0).toLocaleString()}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Total Emails Sent"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-white/70 rounded-lg",children:[(0,s.jsx)(C,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:m.totalReplies||0}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Total Replies"}),(0,s.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:[m.totalSent>0?(m.totalReplies/m.totalSent*100).toFixed(2):"0.00","% rate"]})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-white/70 rounded-lg",children:[(0,s.jsx)(c,{className:"w-8 h-8 text-purple-500 mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:m.totalOpportunities||0}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Opportunities"}),(0,s.jsxs)("p",{className:"text-xs text-purple-600 mt-1",children:[m.totalSent>0?(m.totalOpportunities/m.totalSent*100).toFixed(2):"0.00","% rate"]})]})]})})]}),"individual"===i&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-white/50 rounded-lg p-4 border border-gray-200/50",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Toggle Campaigns:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map((e,t)=>{let a=e.id||e.campaign_id||t.toString(),r=d.has(a),l=B[t%B.length];return(0,s.jsxs)(b.$,{variant:"outline",size:"sm",onClick:()=>(e=>{let t=new Set(d);t.has(e)?t.delete(e):t.add(e),o(t)})(a),className:"\n                      transition-all duration-200 text-xs\n                      ".concat(r?"shadow-md border-2":"opacity-50 bg-gray-100","\n                    "),style:{borderColor:r?l:void 0,backgroundColor:r?"".concat(l,"10"):void 0},children:[r?(0,s.jsx)(O.A,{className:"w-3 h-3 mr-1"}):(0,s.jsx)(I,{className:"w-3 h-3 mr-1"}),(0,s.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:l}}),e.name]},a)})})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.filter(e=>e.id&&d.has(e.id)).map((e,t)=>{let a=B[t%B.length],r=((e.replies||0)/(e.sent||1)*100).toFixed(2),l=((e.opportunities||0)/(e.sent||1)*100).toFixed(2);return(0,s.jsxs)(p,{className:"bg-white/80 backdrop-blur-sm border-gray-200/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[(0,s.jsx)(u,{className:"pb-3",children:(0,s.jsxs)(g,{className:"flex items-center space-x-2 text-base",children:[(0,s.jsx)("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:a}}),(0,s.jsx)("span",{className:"truncate",children:e.name})]})}),(0,s.jsx)(f,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Emails Sent"}),(0,s.jsx)("span",{className:"font-semibold",children:(e.sent||e.emails_sent_count||0).toLocaleString()})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Replies"}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("span",{className:"font-semibold",children:e.replies||e.reply_count||0}),(0,s.jsxs)("span",{className:"text-xs text-green-600 ml-1",children:["(",r,"%)"]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Opportunities"}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("span",{className:"font-semibold",children:e.opportunities||e.total_opportunities||0}),(0,s.jsxs)("span",{className:"text-xs text-purple-600 ml-1",children:["(",l,"%)"]})]})]}),(0,s.jsxs)("div",{className:"pt-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[(0,s.jsx)("span",{children:"Performance"}),(0,s.jsxs)("span",{children:[r,"%"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all duration-1000",style:{backgroundColor:a,width:"".concat(Math.min(20*parseFloat(r),100),"%")}})})]})]})})]},e.id)})})]}),(0,s.jsxs)(p,{className:"bg-white/80 backdrop-blur-sm border-gray-200/50",children:[(0,s.jsx)(u,{children:(0,s.jsx)(g,{className:"text-lg",children:"Campaign Comparison"})}),(0,s.jsx)(f,{children:(0,s.jsx)("div",{className:"space-y-4",children:t.map((e,a)=>{let r=B[a%B.length],l=e.sent||e.emails_sent_count||0,i=e.replies||e.reply_count||0,n=l>0?i/l*100:0,c=Math.max(...t.map(e=>{let t=e.sent||e.emails_sent_count||0,a=e.replies||e.reply_count||0;return t>0?a/t*100:0}));return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:r}}),(0,s.jsx)("span",{className:"text-sm font-medium",children:e.name||e.campaign_name||"Unknown Campaign"})]}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[n,"%"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all duration-1000",style:{backgroundColor:r,width:"".concat(c>0?n/c*100:0,"%")}})})]},e.id||e.campaign_id||a)})})})]})]})}var $=a(6132),U=a(2529);let W=(0,n.A)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),q=(0,n.A)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);function H(e){let{lastSync:t,isOnline:a=!0}=e,[l,i]=(0,r.useState)("");(0,r.useEffect)(()=>{if(!t)return;let e=()=>{let e=new Date,a=new Date(t),s=Math.floor((e.getTime()-a.getTime())/6e4);if(s<1)i("Just now");else if(s<60)i("".concat(s,"m ago"));else if(s<1440){let e=Math.floor(s/60);i("".concat(e,"h ago"))}else{let e=Math.floor(s/1440);i("".concat(e,"d ago"))}};e();let a=setInterval(e,6e4);return()=>clearInterval(a)},[t]);let n=(()=>{if(!t)return{status:"never",color:"gray",icon:$.A,label:"Never synced"};let e=new Date,a=new Date(t),s=Math.floor((e.getTime()-a.getTime())/6e4);return s<5?{status:"fresh",color:"green",icon:U.A,label:"Up to date"}:s<60?{status:"recent",color:"blue",icon:j,label:"Recently synced"}:{status:"stale",color:"yellow",icon:$.A,label:"Needs update"}})(),c=n.icon,d=(()=>{switch(n.status){case"fresh":return{bg:"bg-green-50",border:"border-green-200",text:"text-green-700",icon:"text-green-500"};case"recent":return{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",icon:"text-blue-500"};case"stale":return{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700",icon:"text-yellow-500"};default:return{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-700",icon:"text-gray-500"}}})();return(0,s.jsxs)("div",{className:"\n      inline-flex items-center space-x-2 px-3 py-1.5 rounded-full text-sm\n      ".concat(d.bg," ").concat(d.border," ").concat(d.text," border\n      transition-all duration-200 hover:shadow-sm\n    "),children:[(0,s.jsx)("div",{className:"flex items-center space-x-1",children:a?(0,s.jsx)(W,{className:"w-3 h-3 text-green-500"}):(0,s.jsx)(q,{className:"w-3 h-3 text-red-500"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(c,{className:"w-4 h-4 ".concat(d.icon)}),(0,s.jsx)("span",{className:"font-medium",children:n.label})]}),l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-1 h-1 rounded-full ".concat(d.icon.replace("text-","bg-"))}),(0,s.jsx)("span",{className:"text-xs opacity-75",children:l})]})]})}function Y(){let[e,t]=(0,r.useState)(null),[a,l]=(0,r.useState)(!0),[n,h]=(0,r.useState)("7days"),[j,v]=(0,r.useState)(null),[N,w]=(0,r.useState)(!1);(0,r.useEffect)(()=>{k()},[n,j]);let k=async()=>{l(!0);try{let{startDate:s,endDate:r}=M(n,j),l=await fetch("".concat("http://localhost:8002","/api/dashboard-data?start_date=").concat(s,"&end_date=").concat(r));if(!l.ok)throw Error("Failed to fetch dashboard data");let i=await l.json();if(i.success){var e,a;let l=i.data,n={summary:l.summary||C(),campaigns:l.campaigns||[],dailyData:(null==(e=l.daily_trends)?void 0:e.length)?l.daily_trends:G(s,r),lastSync:(null==(a=l.metadata)?void 0:a.generated_at)||new Date().toISOString()};t(n)}else throw Error("API returned error")}catch(e){console.error("Failed to fetch dashboard data:",e),t({summary:C(),campaigns:[{id:"1",name:"AI Agencies B2B",sent:850,replies:24,opportunities:3},{id:"2",name:"Marketing Coaches US",sent:720,replies:18,opportunities:5},{id:"3",name:"SaaS Companies CA",sent:580,replies:12,opportunities:2}],dailyData:G(M(n,j).startDate,M(n,j).endDate),lastSync:new Date().toISOString()})}finally{l(!1)}},M=(e,t)=>{let a=new Date,s="",r=a.toISOString().split("T")[0];if("custom"===e&&t)return{startDate:t.start,endDate:t.end};switch(e){case"today":s=r;break;case"yesterday":let l=new Date(a);l.setDate(l.getDate()-1),s=r=l.toISOString().split("T")[0];break;case"7days":let i=new Date(a);i.setDate(i.getDate()-7),s=i.toISOString().split("T")[0];break;case"2weeks":let n=new Date(a);n.setDate(n.getDate()-14),s=n.toISOString().split("T")[0];break;case"30days":let c=new Date(a);c.setDate(c.getDate()-30),s=c.toISOString().split("T")[0];break;case"3months":let d=new Date(a);d.setDate(d.getDate()-90),s=d.toISOString().split("T")[0];break;case"all":let o=new Date(a);o.setFullYear(o.getFullYear()-1),s=o.toISOString().split("T")[0];break;default:let m=new Date(a);m.setDate(m.getDate()-7),s=m.toISOString().split("T")[0]}return{startDate:s,endDate:r}},C=()=>({totalEmailsSent:2150,replyRate:2.8,realReplyRate:1.4,positiveReplyRate:.6,activeAccounts:5,activeCampaigns:4,bounceRate:3.2,opportunityRate:.4}),D=async()=>{w(!0);try{let{startDate:e,endDate:t}=M(n,j);if((await fetch("".concat("http://localhost:8002","/api/sync"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({start_date:e,end_date:t,force:!1})})).ok)await new Promise(e=>setTimeout(e,2e3)),await k();else throw Error("Sync request failed")}catch(e){console.error("Sync failed:",e),await k()}finally{w(!1)}};return a&&!e?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[(0,s.jsx)("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200/50 sticky top-0 z-10",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)(c,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Instantly Analytics"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Real-time campaign performance"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(H,{lastSync:null==e?void 0:e.lastSync}),(0,s.jsx)(i(),{href:"/",children:(0,s.jsxs)(b.$,{variant:"outline",size:"sm",children:[(0,s.jsx)(d,{className:"w-4 h-4 mr-2"}),"Back to Scripts"]})}),(0,s.jsxs)(b.$,{onClick:D,disabled:N,size:"sm",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[(0,s.jsx)(o,{className:"w-4 h-4 mr-2 ".concat(N?"animate-spin":"")}),N?"Syncing...":"Sync Data"]})]})]})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)(S,{selectedPeriod:n,onPeriodChange:h,customDateRange:j,onCustomDateChange:v})}),e&&(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)(T,{metrics:e.summary,loading:a})}),(0,s.jsx)("div",{className:"grid lg:grid-cols-2 gap-8 mb-8",children:(0,s.jsxs)(p,{className:"lg:col-span-2 bg-white/80 backdrop-blur-sm border-gray-200/50 shadow-xl",children:[(0,s.jsxs)(u,{className:"pb-4",children:[(0,s.jsxs)(g,{className:"text-xl font-semibold flex items-center space-x-2",children:[(0,s.jsx)(m,{className:"w-5 h-5 text-blue-500"}),(0,s.jsx)("span",{children:"Performance Timeline"})]}),(0,s.jsx)(y,{children:"Email performance metrics over time with detailed intervals"})]}),(0,s.jsx)(f,{children:e&&(0,s.jsx)(L,{data:e.dailyData,period:n,loading:a})})]})}),(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)(p,{className:"bg-white/80 backdrop-blur-sm border-gray-200/50 shadow-xl",children:[(0,s.jsxs)(u,{children:[(0,s.jsxs)(g,{className:"text-xl font-semibold flex items-center space-x-2",children:[(0,s.jsx)(x,{className:"w-5 h-5 text-purple-500"}),(0,s.jsx)("span",{children:"Campaign Breakdown"})]}),(0,s.jsx)(y,{children:"Individual campaign performance with interactive controls"})]}),(0,s.jsx)(f,{children:e&&(0,s.jsx)(P,{campaigns:e.campaigns,dailyData:e.dailyData,loading:a})})]})})]})]})}function G(e,t){let a=[],s=t?new Date(t):new Date,r=new Date(e||s.getTime()-25056e5),l=Math.ceil(Math.abs(s.getTime()-r.getTime())/864e5);for(let e=l;e>=0;e--){let t=new Date(s);t.setDate(t.getDate()-e),a.push({date:t.toISOString().split("T")[0],emailsSent:Math.floor(100*Math.random())+50,replies:Math.floor(8*Math.random())+1,opens:Math.floor(40*Math.random())+20,clicks:Math.floor(15*Math.random())+5,bounces:Math.floor(5*Math.random())+1,opportunities:Math.floor(3*Math.random())})}return a}},3998:(e,t,a)=>{"use strict";a.d(t,{$:()=>i});var s=a(5155),r=a(2115),l=a(4269);let i=r.forwardRef((e,t)=>{let{className:a,variant:r="default",size:i="default",...n}=e;return(0,s.jsx)("button",{className:(0,l.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground hover:bg-primary/90":"default"===r,"bg-destructive text-destructive-foreground hover:bg-destructive/90":"destructive"===r,"border border-input bg-background hover:bg-accent hover:text-accent-foreground":"outline"===r,"bg-secondary text-secondary-foreground hover:bg-secondary/80":"secondary"===r,"hover:bg-accent hover:text-accent-foreground":"ghost"===r,"text-primary underline-offset-4 hover:underline":"link"===r},{"h-10 px-4 py-2":"default"===i,"h-9 rounded-md px-3":"sm"===i,"h-11 rounded-md px-8":"lg"===i,"h-10 w-10":"icon"===i},a),ref:t,...n})});i.displayName="Button"},4269:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var s=a(2821),r=a(5889);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},5142:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var s=a(5155),r=a(2115),l=a(4269);let i=r.forwardRef((e,t)=>{let{className:a,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...i})});i.displayName="Input"}},e=>{e.O(0,[619,783,441,255,358],()=>e(e.s=1102)),_N_E=e.O()}]);